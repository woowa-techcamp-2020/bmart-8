datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model category_first {
  id       Int               @default(autoincrement()) @id
  name     String            @unique
  children category_second[]
}

model category_second {
  id        Int              @default(autoincrement()) @id
  name      String           @unique
  parent_id Int
  parent    category_first   @relation(fields: [parent_id], references: [id])
  children  category_third[]
}

model category_third {
  id        Int             @default(autoincrement()) @id
  name      String          @unique
  parent_id Int
  parent    category_second @relation(fields: [parent_id], references: [id])
  product   product[]
}

model product {
  id          Int            @default(autoincrement()) @id
  created_at  DateTime       @default(now())
  deleted_at  DateTime       @default(now()) @updatedAt
  name        String
  content     String
  price       Int            @default(0)
  sales       Int            @default(0)
  discount    Int            @default(0)
  stock       Int            @default(0)
  category_id Int
  category    category_third @relation(fields: [category_id], references: [id])
}

model user {
  id         Int       @default(autoincrement()) @id
  created_at DateTime  @default(now())
  nickname   String
  provider   String
  role       user_role @default(customer)
}

enum user_role {
  admin
  customer
}
